<p>We often speak about classical and modern C++. What does that mean? First of all: What is modern C++?. There is a simple and a not so simple answer? The simple answer is. Modern C++ stands for C++ that is based on C++11, C++14, and C++17. I guess, you know it. This post and a series of further posts is about the not so simple answer.</p>
<hr id="system-readmore" />
<p>&nbsp;</p>
<p>With C++11 we had a revolution. That revolutions became with C++14 and will become with C++17 to an evolution. An overview on the time line of C++ features makes my point clear.</p>
<p>&nbsp;<img src="images/blog/ModernCpp/timeline.png" alt="timeline" width="700" height="319" style="margin: 15px;" /></p>
<p>If you look at the sheer amount of features we got since C++11 and reason about their impact, you must come to the conclusion: C++ before 2011 and since 2011 are different languages. The first is called classical C++, the second modern C++. Therefore, the idiomatic way to program C++ before and after 2011 is totally different.</p>
<p>Now you already know it. I want to answer the question. How does these powerful feature changed the way we think about programming in C++? That is the not so simple quesion I want to answer.</p>
<h2>Two resources</h2>
<p>I'm not alone on my search. There are great resources available. Here are two of them.</p>
<h3>C++ Best Practices</h3>
<p><a href="https://github.com/lefticus/cppbestpractices">C++ Best Practices </a>from Jason Turner is a "Collaborative Collection of C++ Best Practices". It's a highly valuable source for modern software development with C++ and&nbsp;general considerations of good C++ code. This general considerations include the safety, maintainability, portability, threadability, and performance of the code.</p>
<p>Today, I will not emphasise on the general considerations of the code, I will emphasise on the collection of tools he provides in his C++ Best Practices.</p>
<p>His C++ Best Practices includes a collection of a lot of tools for</p>
<ul>
<li>source control</li>
<li>building software,</li>
<li>continuous integration</li>
<li>compilers such as gcc, clang, and msvc</li>
<li>static code analysis&nbsp;</li>
<li>runtime checkers</li>
<li>testing</li>
<li>debugging</li>
</ul>
<p>If you are professional software developer - I guess you are because you read the post - and have to make a decision what tools you should use in your professional software development process you should use this great resource to get an idea what tools are available.</p>
<p>Today, I want to give you an idea what I will write about in the next posts. My main topic will be the<a href="https://github.com/isocpp/CppCoreGuidelines"> C++ Core Guidelines</a>.</p>
<h3>C++ Core Guidelines</h3>
<p>Here are the goals from the abstract: "<em>This document is a set of guidelines for using C++ well. The aim of this document is to help people to use modern C++ effectively. By "modern C++" we mean C++11 and C++14 (and soon C++17)."</em></p>
<p>The editors are Bjarne Stroustrup and Herb Sutter.</p>
<p>The C++ Core Guidelines are a set of more than 100 rules. These rules are divided in major sections and supporting sections. Here are the major sections.</p>
<ul>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-introduction">In: Introduction</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-philosophy">P: Philosophy</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-interfaces">I: Interfaces</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-functions">F: Functions</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-class">C: Classes and class hierarchies</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-enum">Enum: Enumerations</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-resource">R: Resource management</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-expr">ES: Expressions and statements</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-errors">E: Error handling</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-const">Con: Constants and immutability</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-templates">T: Templates and generic programming</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-concurrency">CP: Concurrency</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-stdlib">SL: The Standard library</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-source">SF: Source files</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-cpl">CPL: C-style programming</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-profile">Pro: Profiles</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-gsl">GSL: Guideline support library</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-faq">FAQ: Answers to frequently asked questions</a></li>
</ul>
<p>I want to have a closer look at the Introduction section. It deals with meta-rules such as:</p>
<ul>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-readers">In.target: Target readership</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-aims">In.aims: Aims</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-non">In.not: Non-aims</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-force">In.force: Enforcement</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-struct">In.struct: The structure of this document</a></li>
<li><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#SS-sec">In.sec: Major section</a></li>
</ul>
<p>Let me paraphrase the meta-rules. The <strong>target reade</strong>r is even a C programmer. The<strong> aim</strong> of the rules is to help developers to adopt modern C++ (C++11, C++14, and soon C++17). These rules emphasise static type safety and resource safety. You should understand the rules because they are prescriptive.The rules have aims and<strong> non-aims</strong>. They are not intended to be minimal or orthogonal, should be read serially, are not a substitute for tutorial treatment. The rules are either a guide to port old C++ code to new one nor should they be exact in each language detail, nor enforce an&nbsp;impoverished subset of C++, nor are value-neutral or perfect. Each rule has an <strong>enforcement</strong> section because the guidelines should help people to make their code uniform and modernise them. The rules follow a uniform<strong> structure</strong>. The structure consists of the points&nbsp;</p>
<ul>
<li><strong>Rule&nbsp;<code></code></strong></li>
<li><strong>Rule Reference Number</strong></li>
<li><strong>Reason</strong>&nbsp;</li>
<li><strong>Example</strong>s</li>
<li><strong>Alternative</strong>s</li>
<li><strong>Exception</strong>s</li>
<li><strong>Enforcement</strong>&nbsp;how the rule might be checked "mechanically"</li>
<li><strong>See also</strong>s</li>
<li><strong>Note</strong>s&nbsp;</li>
<li><strong>Discussion</strong>&nbsp;</li>
</ul>
<p>To be honest that strongly reminds me at the (design) pattern literature.&nbsp;</p>
<p>To make the intent of the structure clear, here is as short example the rule R.22. The R stands for resource management:</p>
<h4>R.22: Use <code>make_shared()</code> to make <code>shared_ptr</code>s</h4>
<h5>Reason</h5>
<p style="padding-left: 2em;">If you first make an object and then give it to a <code>shared_ptr</code> constructor, you (most likely) do one more allocation (and later deallocation) than if you use <code>make_shared()</code> because the reference counts must be allocated separately from the object.</p>
<h5><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#example-159" id="user-content-example-159" class="anchor"></a>Example</h5>
<h6>Consider:</h6>
<pre style="padding-left: 2em;"><code>shared_ptr&lt;X&gt; p1 { new X{2} }; // bad
auto p = make_shared&lt;X&gt;(2);    // good
</code></pre>
<p style="padding-left: 2em;">The <code>make_shared()</code> version mentions <code>X</code> only once, so it is usually shorter (as well as faster) than the version with the explicit <code>new</code>.</p>
<h5><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#enforcement-174" id="user-content-enforcement-174"></a>Enforcement</h5>
<p style="padding-left: 2em;">(Simple) Warn if a <code>shared_ptr</code> is constructed from the result of <code>new</code> rather than <code>make_shared</code>.</p>
<h2>What's next?</h2>
<p>Before I wrap up this post, I want to say a few remarks about my motivation for writing about modern C++&nbsp;and in particular about the C++ Core Guidelines. During writing about my motivation, I recognized, that I can not express my motivation in few sentences. So you know what the next post will be about.<span id="transmark"></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Thanks a lot to my <a href="https://www.patreon.com/rainer_grimm">Patreon Supporter</a></strong><strong>: Eric Pederson.</strong></p>
<p>&nbsp;</p>
<p>{tooltip} <img src="images/books/title_page_small.png" alt="title page small" width="166" height="212" />{end-texte}<img src="images/books/title_page_small.png" alt="title page small" style="margin: 3px;" /> Go to <a href="https://leanpub.com/cpplibrary"> </a><a href="https://leanpub.com/cpplibrary">Leanpub/cpplibrary</a> <a href="https://leanpub.com/cpplibrary"> </a><strong>"What every professional C++ programmer should know about the C++ standard library".</strong> <a href="https://leanpub.com/cpplibrary"></a>{end-tooltip} &nbsp; <strong><span class="h3">Get your e-book. Support my blog.</span></strong></p>
<p>&nbsp;</p>