<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//TN_145093314_98fcd59735.png" title="<ir_inline itemname=bilder_mvp_bild_var2:1 type=2>" style="max-height: 25px; max-width: 25px;"></div>
<div class="text"><b>Das Kapitel zu Aufzählungen besitzt acht Regeln. Seit C++11 kennt C++ Aufzählungen mit eigenem Gültigkeitsbereich (<i>scoped enums</i>), die die Nachteile der klassischen Aufzählungen überwinden.</b></div>
<div class="text">Aufzählungen stellen eine Menge von Ganzzahlen dar, die sich wie ein Datentyp verhalten. Hier ist der Überblick zu den acht Regeln.</div>
<div class="text"><ul><li> <a alt="%7B%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-macro%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-macro%22%2C%22ir_link%22%3A1%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22text%22%3A%22Enum.1%3A%20Prefer%20enumerations%20over%20macros%22%2C%22target%22%3A%22_blank%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22alias%22%3A%22%22%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-macro" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-macro" class="">Enum.1: Prefer enumerations over macros</a> <br></li><li> <a class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-set" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-set" alt="%7B%22alias%22%3A%22%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22text%22%3A%22Enum.2%3A%20Use%20enumerations%20to%20represent%20sets%20of%20related%20named%20constants%22%2C%22target%22%3A%22_blank%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-set%22%2C%22ir_link%22%3A1%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-set%22%7D">Enum.2: Use enumerations to represent sets of related named constants</a> <br></li><li> <a alt="%7B%22alias%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.3%3A%20Prefer%20enum%20classes%20over%20%C2%93plain%C2%94%20enums%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-class%22%2C%22ir_link%22%3A1%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-class%22%7D" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-class" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-class">Enum.3: Prefer enum classes over “plain” enums</a> <br></li><li> <a title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-oper" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-oper" class="" alt="%7B%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.4%3A%20Define%20operations%20on%20enumerations%20for%20safe%20and%20simple%20use%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22alias%22%3A%22%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-oper%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-oper%22%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%7D">Enum.4: Define operations on enumerations for safe and simple use</a> <br></li><li> <a alt="%7B%22alias%22%3A%22%22%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.5%3A%20Don%C2%92t%20use%20ALL_CAPS%20for%20enumerators%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-caps%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-caps%22%2C%22ir_link%22%3A1%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-caps" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-caps" class="">Enum.5: Don’t use ALL_CAPS for enumerators</a> <br></li><li> <a alt="%7B%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-unnamed%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-unnamed%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22text%22%3A%22Enum.6%3A%20Avoid%20unnamed%20enumerations%22%2C%22target%22%3A%22_blank%22%2C%22alias%22%3A%22%22%7D" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-unnamed" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-unnamed">Enum.6: Avoid unnamed enumerations</a> <br></li><li> <a alt="%7B%22alias%22%3A%22%22%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.7%3A%20Specify%20the%20underlying%20type%20of%20an%20enumeration%20only%20when%20necessary%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-underlying%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-underlying%22%2C%22ir_link%22%3A1%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-underlying" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-underlying" class="">Enum.7: Specify the underlying type of an enumeration only when necessary</a> <br></li><li><a title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-value" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-value" alt="%7B%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22text%22%3A%22Enum.8%3A%20Specify%20enumerator%20values%20only%20when%20necessary%22%2C%22target%22%3A%22_blank%22%2C%22alias%22%3A%22%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-value%22%2C%22ir_link%22%3A1%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-value%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%7D">Enum.8: Specify enumerator values only when necessary</a></li></ul></div>
<div class="text">Wie im Vorspann genannt: Klassische Aufzählungen besitzen viele Nachteile. Daher will ich gerne explizit klassische Aufzählungen ohne eigenen Gültigkeitsbereich (<i>unscoped enums</i>) und Aufzählungen mit eigenem Gültigkeitsbereich, die gerne auch streng typisierte Aufzählungen genannt werden, vergleichen. In den C++ Core Guidelines fehlt mir dieser wichtige Vergleich.</div>
<div class="text">Hier ist eine klassische Aufzählung:</div>
<div class="pre">enum Colour{<br>&nbsp; red,<br>&nbsp; blue,<br>&nbsp; green<br>};</div>
<div class="text">Welche Nachteile besitzen sie?</div>
<div class="text"><ul><li> Die Aufzähler besitzen keinen eigenen Gültigkeitsbereich</li><li>Die Aufzähler konvertieren heimlich zu <i>int</i></li><li>Die Aufzähler verschmutzen den globalen Namensbereich</li><li>Der Typ der Aufzähler ist nicht definiert. Er muss nur groß genug sein, um die Werte der Aufzähler darzustellen.</li></ul></div>
<div class="text">Durch das Verwenden des Schlüsselwortes <i>class </i>oder <i>struct</i> wird die klassische Aufzählung zu einer Aufzählung mit Gültigkeitsbereich (<i>scoped enum</i> oder auch <i>enum class</i>).<br></div>
<div class="pre">enum class ColourScoped{<br>&nbsp; red,<br>&nbsp; blue,<br>&nbsp; green<br>};</div>
<div class="text">Nun ist der Bereichsoperator <i>::</i>&nbsp;notwendig, um auf die Aufzähler zuzugreifen: <i>Colour::red. Colour::red </i>konvertiert nicht heimlich zu <i>int</i> und verschmutzt daher auch nicht den globalen Namensbereich. Zusätzlich ist der Typ der Aufzähler per Default <i>int</i>.&nbsp; </div>
<div class="text">Nach dieser Hintergrundinformation geht es direkt zu den Regeln.&nbsp;</div>
<div class="text"><b><a alt="%7B%22alias%22%3A%22%22%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.1%3A%20Prefer%20enumerations%20over%20macros%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-macro%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-macro%22%2C%22ir_link%22%3A1%7D" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-macro" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-macro">Enum.1: Prefer enumerations over macros</a></b></div>
<div class="text">Makros ignorieren Gültigkeitsbereich und besitzen keinen Datentyp. Das bedeutet, du kannst ein bereits gesetztes Makro, dass für eine Farbe steht, überschreiben.<br></div>
<div class="pre">// webcolors.h <br>#define RED&nbsp;&nbsp; 0xFF0000<br><br>// productinfo.h<br>#define RED&nbsp;&nbsp;&nbsp; 0<br><br>int webcolor = RED;&nbsp;&nbsp; // should be 0xFF0000</div>
<div class="text">Mit der Aufzähler <i>ColourScoped </i>wird dieser Fehler nicht auftreten, denn er benötigt seinen eigenen Gültigkeitsbereich: <i>ColourScoped webcolour = ColourScoped::red;</i> </div>
<div class="text"><b><a title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-set" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-set" alt="%7B%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-set%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-set%22%2C%22alias%22%3A%22%22%2C%22text%22%3A%22Enum.2%3A%20Use%20enumerations%20to%20represent%20sets%20of%20related%20named%20constants%22%2C%22target%22%3A%22_blank%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%7D">Enum.2: Use enumerations to represent sets of related named constants</a></b></div>
<div class="text">Diese Regel ist leicht einsichtig, denn Aufzählungen sind Mengen von Ganzzahlen, die sich ein Datentyp verhalten. <br> </div>
<div class="text"><b><a alt="%7B%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-class%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-class%22%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22text%22%3A%22Enum.3%3A%20Prefer%20enum%20classes%20over%20%C2%93plain%C2%94%20enums%22%2C%22target%22%3A%22_blank%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22alias%22%3A%22%22%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-class" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-class" class="">Enum.3: Prefer enum classes over “plain” enums</a></b></div>
<div class="text">Die Aufzähler einer Aufzählung mit Gültigkeitsbereich konvertieren nicht heimlich zu <i>int</i>. Sie müssen gegebenenfalls explizit konvertiert werden. Um auf sie zuzugreifen, ist der Bereichsoperator notwendig. </div>
<div class="pre">// scopedEnum.cpp<br><br>#include &lt;iostream&gt;<br><br>enum class ColourScoped{<br>&nbsp; red,<br>&nbsp; blue,<br>&nbsp; green<br>};<br><br>void useMe(ColourScoped color){<br><br>&nbsp; switch(color){<br>&nbsp; case ColourScoped::red:<br>&nbsp;&nbsp;&nbsp; std::cout &lt;&lt; "ColourScoped::red" &lt;&lt; std::endl;<br>&nbsp;&nbsp;&nbsp; break;<br>&nbsp; case ColourScoped::blue:<br>&nbsp;&nbsp;&nbsp; std::cout &lt;&lt; "ColourScoped::blue" &lt;&lt; std::endl;<br>&nbsp;&nbsp;&nbsp; break;<br>&nbsp; case ColourScoped::green:<br>&nbsp;&nbsp;&nbsp; std::cout &lt;&lt; "ColourScoped::green" &lt;&lt; std::endl;<br>&nbsp;&nbsp;&nbsp; break;<br>&nbsp; }<br>}<br><br>int main(){<br><br>&nbsp; std::cout &lt;&lt;&nbsp; static_cast&lt;int&gt;(ColourScoped::red) &lt;&lt; std::endl;&nbsp;&nbsp; // 0<br>&nbsp; std::cout &lt;&lt;&nbsp; static_cast&lt;int&gt;(ColourScoped::red) &lt;&lt; std::endl;&nbsp;&nbsp; // 0<br><br>&nbsp; std::cout &lt;&lt; std::endl;<br><br>&nbsp; ColourScoped colour{ColourScoped::red};<br>&nbsp; useMe(colour);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ColourScoped::red<br><br>}<br> </div>
<div class="text"><b><a alt="%7B%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-oper%22%2C%22ir_link%22%3A1%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-oper%22%2C%22alias%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.4%3A%20Define%20operations%20on%20enumerations%20for%20safe%20and%20simple%20use%22%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-oper" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-oper">Enum.4: Define operations on enumerations for safe and simple use</a></b></div>
<div class="text">Die Guidelines definiert zum Verdeutlichen ihrer Regel eine Aufzählung<i> Day</i>. Diese Aufzählung unterstützt den Inkrement-Operator.<br></div>
<div class="pre">enum Day { mon, tue, wed, thu, fri, sat, sun };<br><br>Day&amp; operator++(Day&amp; d)<br>{<br>&nbsp; return d = <br>&nbsp; &nbsp;(d == Day::sun) ? Day::mon : static_cast&lt;Day&gt;(static_cast&lt;int&gt;(d)+1);<br>}</div>
<div class="pre">Day today = Day::sat;<br>Day tomorrow = ++today;</div>
<div class="text">Der <i>static_cast</i> in dem Beispiel ist notwendig. Falls der Inkrement-Operator im Inkrement-Operator zum Einsatz käme, wäre die Folge eine unendliche Rekursion.<br></div>
<div class="pre">Day&amp; operator++(Day&amp; d)<br>{<br>&nbsp; &nbsp;return d = (d == Day::sun) ? Day::mon : Day{++d};&nbsp;&nbsp;&nbsp; // error<br>}<br> </div>
<div class="text"><b><a alt="%7B%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-caps%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-caps%22%2C%22alias%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.5%3A%20Don%C2%92t%20use%20ALL_CAPS%20for%20enumerators%22%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-caps" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-caps">Enum.5: Don’t use ALL_CAPS for enumerators</a></b></div>
<div class="text">Falls du <i>ALL_CAPS</i> für die Aufzähler verwendest, können Konflikte mit Makros auftreten, da diese typischerweise in Großbuchstaben geschrieben werden.</div>
<div class="pre">#define RED 0xFF0000<br><br>enum class ColourScoped{ RED };&nbsp; // error<br> </div>
<div class="text"><b><a alt="%7B%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-unnamed%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-unnamed%22%2C%22alias%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.6%3A%20Avoid%20unnamed%20enumerations%22%7D" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-unnamed" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-unnamed">Enum.6: Avoid unnamed enumerations</a></b></div>
<div class="text">Falls du keinen guten Namen für eine Aufzählung finden kannst, hängt das vermutlich damit zusammen, dass die Aufzähler keine semantische Beziehung zueinander haben. In diesem Fall solltest du <i>constexpr</i> Variablen einsetzen.</div>
<div class="pre">// bad<br>enum { red = 0xFF0000, scale = 4, is_signed = 1 };<br><br>// good<br>constexpr int red = 0xFF0000;<br>constexpr short scale = 4;<br>constexpr bool is_signed = true;<br> </div>
<div class="text"><b><a title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-underlying" class="" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-underlying" alt="%7B%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-underlying%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-underlying%22%2C%22alias%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Enum.7%3A%20Specify%20the%20underlying%20type%20of%20an%20enumeration%20only%20when%20necessary%22%7D">Enum.7: Specify the underlying type of an enumeration only when necessary</a></b></div>
<div class="text">Seit C++11 lässt sich der zugrunde liegende Datentyp der Aufzähler angeben. Das spart gegebenenfalls Speicher. Standardmäßig ist der zugrunde liegende Datentyp einer Aufzählung mit Gültigkeitsbereich <i>int</i>. Damit lassen sich diese vorwärts deklarieren.</div>
<div class="pre">// typeEnum.cpp<br><br>#include &lt;iostream&gt;<br><br>enum class Colour1{<br>&nbsp; red,<br>&nbsp; blue,<br>&nbsp; green<br>};<br>&nbsp;<br>enum struct Colour2: char {<br>&nbsp; red,<br>&nbsp; blue,<br>&nbsp; green<br>};<br><br>int main(){<br><br>&nbsp; std::cout &lt;&lt; sizeof(Colour1) &lt;&lt; std::endl;&nbsp; // 1<br>&nbsp; std::cout &lt;&lt; sizeof(Colour2) &lt;&lt; std::endl;&nbsp; // 4<br><br>}<br></div>
<div class="text"><b><a alt="%7B%22type%22%3A%22E%22%2C%22user_params%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22href%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-value%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fisocpp.github.io%2FCppCoreGuidelines%2FCppCoreGuidelines%23Renum-value%22%2C%22alias%22%3A%22%22%2C%22text%22%3A%22Enum.8%3A%20Specify%20enumerator%20values%20only%20when%20necessary%22%2C%22target%22%3A%22_blank%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%7D" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-value" class="" title="Link auf http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Renum-value">Enum.8: Specify enumerator values only when necessary</a></b></div>
<div class="text">Durch das explizite Setzen der Aufzähler kann es natürlich passieren, dass ein Wert zweimal vergeben wird. Die folgende Aufzählung <i>Col2 </i>hat genau dieses Problem.</div>
<div class="pre">enum class Col1 { red, yellow, blue };<br>enum class Col2 { red = 1, yellow = 2, blue = 2 };&nbsp;&nbsp;&nbsp; // typo<br>enum class Month { jan = 1, feb, mar, apr, may, jun,&nbsp;jul, august, sep, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;oct, nov, dec };&nbsp; // starting with 1 is conventional <br></div>
<div class="ztitel">Wie geht's weiter?</div>
<div class="text">Dieser Artikel war kurz und bündig. Du solltest aber die Meta-Regel im Kopf behalten: Verwende Aufzählung mit Gültigkeitsbereich!</div>
<div class="text">Das nächste Kapitel der C++ Core Guidelines beschäftigt sich mit den rund 35 Regeln für Ressource Management. Das bedeutet, wir tauchen im nächsten Artikel mitten in den Herz von C++. </div>
<div class="ztitel">Weitere Informationen:</div>
<div class="text"><ul><li> <b>Wahl des nächsten PDF-Päckchen</b>. Auf meinem deutschen Blog und meinem englischen Blog finden gerade die Wahl zum nächsten PDF-Päckchen statt. Hier sind die Links zur Wahl:</li><ul><li>Deutscher Blog: <a title="Link auf http://www.grimm-jaud.de/index.php/blog/welches-pdf-paeckchen-soll-ich-zusammenstellen-mache-dein-kreuz-2" href="http://www.grimm-jaud.de/index.php/blog/welches-pdf-paeckchen-soll-ich-zusammenstellen-mache-dein-kreuz-2" class="" alt="%7B%22destination%22%3A%22http%3A%2F%2Fwww.grimm-jaud.de%2Findex.php%2Fblog%2Fwelches-pdf-paeckchen-soll-ich-zusammenstellen-mache-dein-kreuz-2%22%2C%22ir_link%22%3A1%2C%22href%22%3A%22http%3A%2F%2Fwww.grimm-jaud.de%2Findex.php%2Fblog%2Fwelches-pdf-paeckchen-soll-ich-zusammenstellen-mache-dein-kreuz-2%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22version%22%3A1%2C%22anchor%22%3A%22%22%2C%22text%22%3A%22Welches%20PDF-P%C3%A4ckchen%20soll%20ich%20zusammenstellen%3F%20Mach%20dein%20Kreuz%21%22%2C%22target%22%3A%22_blank%22%2C%22alias%22%3A%22%22%7D">Welches PDF-Päckchen soll ich zusammenstellen? Mach dein Kreuz!</a> <br></li><li>Englischer Blog: <a alt="%7B%22href%22%3A%22http%3A%2F%2Fwww.modernescpp.com%2Findex.php%2Fwhich-pdf-bundle-should-i-provide-make-your-choice2%22%2C%22ir_link%22%3A1%2C%22destination%22%3A%22http%3A%2F%2Fwww.modernescpp.com%2Findex.php%2Fwhich-pdf-bundle-should-i-provide-make-your-choice2%22%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22subject%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22target%22%3A%22_blank%22%2C%22text%22%3A%22Which%20PDF%20bundle%20should%20I%20provide%3F%20Make%20your%20choice%21%22%2C%22anchor%22%3A%22%22%2C%22version%22%3A1%2C%22alias%22%3A%22%22%7D" href="http://www.modernescpp.com/index.php/which-pdf-bundle-should-i-provide-make-your-choice2" class="" title="Link auf http://www.modernescpp.com/index.php/which-pdf-bundle-should-i-provide-make-your-choice2">Which PDF bundle should I provide? Make your choice!</a></li></ul></ul></div>